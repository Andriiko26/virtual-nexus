{% extends '_base.html' %}
{% load static %}
{% block title %}Profile{% endblock title %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">
<div class="profile-container">
    <h2>User Profile</h2>
    <div class="profile-info">

        {% if user.avatar %}
            <img src="{{ user.avatar.url }}" alt="Avatar" class="profile-image">
        {% else %}
            <img src="{% static 'images/default_avatar.jpg' %}" alt="Default Avatar" class="profile-image">
        {% endif %}

        <p>Username: {{ user.user.username }}</p>
        <p>Date join: {{ user.user.date_joined }}</p>
        <p>Bio: {{ user.bio }}</p>
        <p>This user rating is {{rating}}</p>
        {% if user_posts.count >= 1 %}
            <p>This user wrote {{ user_posts.count }} post(s):</p>
            {% for post in user_posts %}
                <h2><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
            {% endfor %}
        {% else %}
            <p>This user has not written any posts yet</p>
        {% endif %}
    </div>
</div>
{% endblock %}
